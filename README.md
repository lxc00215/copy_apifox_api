# 解决的问题

有个 apifox 文档，200 多个接口，想 copy 过来，人家开了限制，没法直接导出 openapi.json 文件。

但 APIFox 提供了有大模型友好文件（让大模型读的），这个文件中包含了每个接口对应的类 yaml 文件的链接。

#执行过程

1.  获取 apifox 的大模型友好文件(llms.txt)

2.  遍历 llms.txt 文件中每个接口的类 yaml 文件链接
3.  获取并解析每个接口的 yaml 文件内容，并将每个接口的内容保存在一个文件当中

#注意
在执行文件之前，应当先除去非类 yaml 文件，比如（OpenAI 的文档），否则某一行可能会漏掉

# 如何使用？

## 准备工作

- 执行如下命令安装依赖

```cmd
pip install requests, yaml
```

- 准备文件

[图片](./llms.png)

获取到 apifox 的大模型友好文件(llms.txt)中的 API 接口部分的 md 文件链接（注意不是 API Docs，这个没法批量导入）,保存到一个文件中，放在项目根目录

## 执行命令

```cmd
python main.py
```

## 结果处理

执行完毕之后会获取到一个 merged*api.yaml 文件，这个文件包含了目标文档所有接口的内容。但是有一个问题，假设你的文档中有重复的接口，它会被覆盖掉，所以我这里做了处理，对重复的接口加入了\_variant*{index}标识，因此，假设你目标文档有重复的接口，你需要先导入到 apifox 中，然后手动去重。

为什么不在编辑器中处理呢？虽然这样更快捷，但是如果有重复的接口，apifox 会报格式错误，不让导入。
